# tinywasm/wizard
<!-- START_SECTION:BADGES_SECTION -->
<a href="docs/img/badges.svg"><img src="docs/img/badges.svg" alt="Project Badges" title="Generated by devflow from github.com/tinywasm/devflow"></a>
<!-- END_SECTION:BADGES_SECTION -->

A modular, pluggable wizard orchestrator for TinyGo applications.

## LLM Context / Core Logic
The library orchestrates a sequence of `Step` struct helpers. It manages state via a **mutable** `tinywasm/context`.

### Steps
```go
type Step struct {
    LabelText  string
    DefaultFn  func(ctx *context.Context) string
    OnInputFn  func(input string, ctx *context.Context) (continueFlow bool, err error)
}
```

### Flow Control
- **New(onComplete func(), steps ...*Step)**: Initializes orchestration.
- **Change(input)**: Executes `OnInput` for the current step.
- If `error != nil`, the wizard **stays on the current step**.
- If `error == nil` and `continueFlow == true`, the wizard **advances to the next step**.

## Features
- **Zero dynamic allocations** (fixed capacity context).
- **Mutable State**: Steps modify the context directly via `ctx.Set()`.
- **Easy Literals**: Define steps as simple structs without boilerplate.
- **TUI-ready**: Implements `Handler` and `Loggable` patterns.

## Usage
```go
// 1. Create steps inline using the exported Step struct
steps := []*wizard.Step{
    {
        LabelText: "Project Name",
        DefaultFn: func(ctx *context.Context) string { return "my-app" },
        OnInputFn: func(in string, ctx *context.Context) (bool, error) {
            if in == "" { return false, nil }
            err := ctx.Set("name", in) // Mutate context in-place
            return true, err
        },
    },
}

// 2. Run wizard
wiz := wizard.New(func() { println("Done!") }, steps...)
wiz.Change("new-project")
```
