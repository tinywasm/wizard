# tinywasm/wizard
<!-- START_SECTION:BADGES_SECTION -->
<a href="docs/img/badges.svg"><img src="docs/img/badges.svg" alt="Project Badges" title="Generated by devflow from github.com/tinywasm/devflow"></a>
<!-- END_SECTION:BADGES_SECTION -->

A modular, pluggable wizard orchestrator for TinyGo applications.

## LLM Context / Core Logic
The library orchestrates a sequence of `Step` interfaces. It manages state via `tinywasm/context` and handles flow control through a completion callback.

### Interfaces
```go
type Step interface {
    Label() string                                                                 // Prompt text
    DefaultValue(ctx *context.Context) string                                     // UI Suggestion
    OnInput(in string, ctx *context.Context) (*context.Context, bool, error)      // Logic + next state
}
```

### Flow Control
- **New(onComplete func(), steps ...Step)**: Initializes orchestration.
- **Change(input)**: Executes `OnInput` for the current step.
- **continueFlow (bool)**: If `true`, the wizard proceeds even if `error != nil` (soft failure). If `false`, it stays on the same step (hard failure).

## Features
- **Zero dynamic allocations** (fixed capacity context).
- **Duck-typing compatible**: Designed to be implemented by external modules without direct package dependencies.
- **TUI-ready**: Implements `Handler` and `Loggable` patterns.

## Usage
```go
// 1. Implement a Step
type NameStep struct{}
func (s *NameStep) Label() string { return "Project Name" }
func (s *NameStep) DefaultValue(ctx *context.Context) string { return "my-app" }
func (s *NameStep) OnInput(in string, ctx *context.Context) (*context.Context, bool, error) {
    return context.WithValue(ctx, "project_name", in)
}

// 2. Initialize and Run
wiz := wizard.New(func() {
    println("Wizard finished!")
}, &NameStep{})

// 3. Handle data updates
wiz.Change("new-project")
```
